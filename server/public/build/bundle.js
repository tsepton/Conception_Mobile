var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function o(t){return t()}function r(){return Object.create(null)}function c(t){t.forEach(o)}function s(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function i(t,e,n){t.$$.on_destroy.push(l(e,n))}function u(t,e,n,o){if(t){const r=f(t,e,n,o);return t[0](r)}}function f(t,e,o,r){return t[1]&&r?n(o.ctx.slice(),t[1](r(e))):o.ctx}function d(t,e,n,o,r,c,s){const a=function(t,e,n,o){if(t[2]&&o){const r=t[2](o(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|r[o];return t}return e.dirty|r}return e.dirty}(e,o,r,c);if(a){const r=f(e,n,o,s);t.p(r,a)}}function $(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}const p="undefined"!=typeof window;let h=p?()=>window.performance.now():()=>Date.now(),m=p?t=>requestAnimationFrame(t):t;const g=new Set;function v(t){g.forEach((e=>{e.c(t)||(g.delete(e),e.f())})),0!==g.size&&m(v)}function y(t){let e;return 0===g.size&&m(v),{promise:new Promise((n=>{g.add(e={c:t,f:n})})),abort(){g.delete(e)}}}function b(t,e){t.appendChild(e)}function x(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode.removeChild(t)}function _(t){return document.createElement(t)}function E(t){return document.createTextNode(t)}function k(){return E(" ")}function S(){return E("")}function I(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function N(t){return function(e){return e.preventDefault(),t.call(this,e)}}function D(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function z(t){return Array.from(t.childNodes)}function O(t,e,n,o){for(let o=0;o<t.length;o+=1){const r=t[o];if(r.nodeName===e){let e=0;const c=[];for(;e<r.attributes.length;){const t=r.attributes[e++];n[t.name]||c.push(t.name)}for(let t=0;t<c.length;t++)r.removeAttribute(c[t]);return t.splice(o,1)[0]}}return o?function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}(e):_(e)}function A(t,e){for(let n=0;n<t.length;n+=1){const o=t[n];if(3===o.nodeType)return o.data=""+e,t.splice(n,1)[0]}return E(e)}function V(t){return A(t," ")}function j(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function C(t,e){t.value=null==e?"":e}function R(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const L=new Set;let P,J=0;function M(t,e,n,o,r,c,s,a=0){const l=16.666/o;let i="{\n";for(let t=0;t<=1;t+=l){const o=e+(n-e)*c(t);i+=100*t+`%{${s(o,1-o)}}\n`}const u=i+`100% {${s(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${a}`,d=t.ownerDocument;L.add(d);const $=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild(_("style")).sheet),p=d.__svelte_rules||(d.__svelte_rules={});p[f]||(p[f]=!0,$.insertRule(`@keyframes ${f} ${u}`,$.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${f} ${o}ms linear ${r}ms 1 both`,J+=1,f}function T(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),J-=r,J||m((()=>{J||(L.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),L.clear())})))}function B(t){P=t}function W(){if(!P)throw new Error("Function called outside component initialization");return P}function H(t){W().$$.on_mount.push(t)}function U(t){W().$$.on_destroy.push(t)}function K(){const t=W();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const r=R(e,n);o.slice().forEach((e=>{e.call(t,r)}))}}}function q(t,e){W().$$.context.set(t,e)}function F(t){return W().$$.context.get(t)}const G=[],Q=[],X=[],Y=[],Z=Promise.resolve();let tt=!1;function et(t){X.push(t)}function nt(t){Y.push(t)}let ot=!1;const rt=new Set;function ct(){if(!ot){ot=!0;do{for(let t=0;t<G.length;t+=1){const e=G[t];B(e),st(e.$$)}for(B(null),G.length=0;Q.length;)Q.pop()();for(let t=0;t<X.length;t+=1){const e=X[t];rt.has(e)||(rt.add(e),e())}X.length=0}while(G.length);for(;Y.length;)Y.pop()();tt=!1,ot=!1,rt.clear()}}function st(t){if(null!==t.fragment){t.update(),c(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(et)}}let at;function lt(){return at||(at=Promise.resolve(),at.then((()=>{at=null}))),at}function it(t,e,n){t.dispatchEvent(R(`${e?"intro":"outro"}${n}`))}const ut=new Set;let ft;function dt(){ft={r:0,c:[],p:ft}}function $t(){ft.r||c(ft.c),ft=ft.p}function pt(t,e){t&&t.i&&(ut.delete(t),t.i(e))}function ht(t,e,n,o){if(t&&t.o){if(ut.has(t))return;ut.add(t),ft.c.push((()=>{ut.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const mt={duration:0};function gt(n,o,r){let c,a,l=o(n,r),i=!1,u=0;function f(){c&&T(n,c)}function d(){const{delay:o=0,duration:r=300,easing:s=e,tick:d=t,css:$}=l||mt;$&&(c=M(n,0,1,r,o,s,$,u++)),d(0,1);const p=h()+o,m=p+r;a&&a.abort(),i=!0,et((()=>it(n,!0,"start"))),a=y((t=>{if(i){if(t>=m)return d(1,0),it(n,!0,"end"),f(),i=!1;if(t>=p){const e=s((t-p)/r);d(e,1-e)}}return i}))}let $=!1;return{start(){$||(T(n),s(l)?(l=l(),lt().then(d)):d())},invalidate(){$=!1},end(){i&&(f(),i=!1)}}}function vt(t){return"object"==typeof t&&null!==t?t:{}}function yt(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function bt(t){t&&t.c()}function xt(t,e){t&&t.l(e)}function wt(t,e,n){const{fragment:r,on_mount:a,on_destroy:l,after_update:i}=t.$$;r&&r.m(e,n),et((()=>{const e=a.map(o).filter(s);l?l.push(...e):c(e),t.$$.on_mount=[]})),i.forEach(et)}function _t(t,e){const n=t.$$;null!==n.fragment&&(c(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Et(t,e){-1===t.$$.dirty[0]&&(G.push(t),tt||(tt=!0,Z.then(ct)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function kt(e,n,o,s,a,l,i=[-1]){const u=P;B(e);const f=n.props||{},d=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:a,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:r(),dirty:i,skip_bound:!1};let $=!1;if(d.ctx=o?o(e,f,((t,n,...o)=>{const r=o.length?o[0]:n;return d.ctx&&a(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),$&&Et(e,t)),n})):[],d.update(),$=!0,c(d.before_update),d.fragment=!!s&&s(d.ctx),n.target){if(n.hydrate){const t=z(n.target);d.fragment&&d.fragment.l(t),t.forEach(w)}else d.fragment&&d.fragment.c();n.intro&&pt(e.$$.fragment),wt(e,n.target,n.anchor),ct()}B(u)}class St{$destroy(){_t(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const It=[];function Nt(e,n=t){let o;const r=[];function c(t){if(a(e,t)&&(e=t,o)){const t=!It.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),It.push(n,e)}if(t){for(let t=0;t<It.length;t+=2)It[t][0](It[t+1]);It.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(s,a=t){const l=[s,a];return r.push(l),1===r.length&&(o=n(c)||t),s(e),()=>{const t=r.indexOf(l);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}function Dt(e,n,o){const r=!Array.isArray(e),a=r?[e]:e,i=n.length<2;return{subscribe:Nt(o,(e=>{let o=!1;const u=[];let f=0,d=t;const $=()=>{if(f)return;d();const o=n(r?u[0]:u,e);i?e(o):d=s(o)?o:t},p=a.map(((t,e)=>l(t,(t=>{u[e]=t,f&=~(1<<e),o&&$()}),(()=>{f|=1<<e}))));return o=!0,$(),function(){c(p),d()}})).subscribe}}var zt=Nt(new WebSocket("ws://localhost:9000/ws")),Ot=Nt(void 0);const At=Nt(void 0);let Vt,jt;function Ct(t){console.debug("join_room",jt.readyState),jt.readyState?jt.send(JSON.stringify({event:"join_room",id:t})):jt.onopen=()=>jt.send(JSON.stringify({event:"join_room",id:t}))}At.subscribe((t=>Vt=t?.id)),zt.subscribe((t=>{jt=t,jt.onmessage=t=>{const e=JSON.parse(t.data);switch(console.debug("new message : ",e),e.event){case"enter_room":At.set({id:e.room,cards:e.cards});break;case"created_card":At.update((t=>({id:t.id,cards:[...t.cards,e.card]})));break;case"deleted_card":At.update((t=>({id:t.id,cards:t.cards.filter((t=>t.id!==e.id))})));break;case"modified_card":At.update((t=>t&&t.cards?{id:t.id,cards:t.cards.map((t=>t.id===e.card.id?e.card:t))}:t));break;case"resync":console.log("TODO, resync client cards");break;case"notification":Ot.set(e.text)}},jt.onerror=()=>{Ot.set("Connection lost, attempting to reconnect to Mõla"),console.warn(`Connection lost, entering in room n°${Vt}...`),zt.set(new WebSocket("ws://localhost:9000/ws")),Ct(Vt)}}));var Rt={subscribe:At.subscribe,set:At.set,create:function(){console.debug("create_room",jt.readyState),jt.readyState&&jt.send(JSON.stringify({event:"create_room"}))},join:Ct,leave:function(){console.debug("leave_room",jt.readyState),jt.readyState&&(jt.send(JSON.stringify({event:"leave_room"})),At.set(void 0))},cards:{add:function(){console.debug("new_card",jt.readyState),jt.readyState&&jt.send(JSON.stringify({event:"new_card"}))},update:function(t){console.debug("update_card",t),jt.readyState&&jt.send(JSON.stringify({event:"update_card",card:t??{}}))},delete:function(t){console.debug("delete_card",jt.readyState),jt.readyState&&jt.send(JSON.stringify({event:"delete_card",id:t}))}}};const Lt={},Pt={};function Jt(t){return{...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}}const Mt=function(t,e){const n=[];let o=Jt(t);return{get location(){return o},listen(e){n.push(e);const r=()=>{o=Jt(t),e({location:o,action:"POP"})};return t.addEventListener("popstate",r),()=>{t.removeEventListener("popstate",r);const o=n.indexOf(e);n.splice(o,1)}},navigate(e,{state:r,replace:c=!1}={}){r={...r,key:Date.now()+""};try{c?t.history.replaceState(r,null,e):t.history.pushState(r,null,e)}catch(n){t.location[c?"replace":"assign"](e)}o=Jt(t),n.forEach((t=>t({location:o,action:"PUSH"})))}}}(Boolean("undefined"!=typeof window&&window.document&&window.document.createElement)?window:function(t="/"){let e=0;const n=[{pathname:t,search:""}],o=[];return{get location(){return n[e]},addEventListener(t,e){},removeEventListener(t,e){},history:{get entries(){return n},get index(){return e},get state(){return o[e]},pushState(t,r,c){const[s,a=""]=c.split("?");e++,n.push({pathname:s,search:a}),o.push(t)},replaceState(t,r,c){const[s,a=""]=c.split("?");n[e]={pathname:s,search:a},o[e]=t}}}}()),{navigate:Tt}=Mt,Bt=/^:(.+)/;function Wt(t){return"*"===t[0]}function Ht(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function Ut(t){return t.replace(/(^\/+|\/+$)/g,"")}function Kt(t,e){return{route:t,score:t.default?0:Ht(t.path).reduce(((t,e)=>(t+=4,!function(t){return""===t}(e)?!function(t){return Bt.test(t)}(e)?Wt(e)?t-=5:t+=3:t+=2:t+=1,t)),0),index:e}}function qt(t,e){let n,o;const[r]=e.split("?"),c=Ht(r),s=""===c[0],a=function(t){return t.map(Kt).sort(((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index))}(t);for(let t=0,r=a.length;t<r;t++){const r=a[t].route;let l=!1;if(r.default){o={route:r,params:{},uri:e};continue}const i=Ht(r.path),u={},f=Math.max(c.length,i.length);let d=0;for(;d<f;d++){const t=i[d],e=c[d];if(void 0!==t&&Wt(t)){u["*"===t?"*":t.slice(1)]=c.slice(d).map(decodeURIComponent).join("/");break}if(void 0===e){l=!0;break}let n=Bt.exec(t);if(n&&!s){const t=decodeURIComponent(e);u[n[1]]=t}else if(t!==e){l=!0;break}}if(!l){n={route:r,params:u,uri:"/"+c.slice(0,d).join("/")};break}}return n||o||null}function Ft(t,e){return`${Ut("/"===e?t:`${Ut(t)}/${Ut(e)}`)}/`}function Gt(t){let e;const n=t[9].default,o=u(n,t,t[8],null);return{c(){o&&o.c()},l(t){o&&o.l(t)},m(t,n){o&&o.m(t,n),e=!0},p(t,[e]){o&&o.p&&256&e&&d(o,n,t,t[8],e,null,null)},i(t){e||(pt(o,t),e=!0)},o(t){ht(o,t),e=!1},d(t){o&&o.d(t)}}}function Qt(t,e,n){let o,r,c,{$$slots:s={},$$scope:a}=e,{basepath:l="/"}=e,{url:u=null}=e;const f=F(Lt),d=F(Pt),$=Nt([]);i(t,$,(t=>n(7,c=t)));const p=Nt(null);let h=!1;const m=f||Nt(u?{pathname:u}:Mt.location);i(t,m,(t=>n(6,r=t)));const g=d?d.routerBase:Nt({path:l,uri:l});i(t,g,(t=>n(5,o=t)));const v=Dt([g,p],(([t,e])=>{if(null===e)return t;const{path:n}=t,{route:o,uri:r}=e;return{path:o.default?n:o.path.replace(/\*.*$/,""),uri:r}}));return f||(H((()=>Mt.listen((t=>{m.set(t.location)})))),q(Lt,m)),q(Pt,{activeRoute:p,base:g,routerBase:v,registerRoute:function(t){const{path:e}=o;let{path:n}=t;if(t._path=n,t.path=Ft(e,n),"undefined"==typeof window){if(h)return;const e=function(t,e){return qt([t],e)}(t,r.pathname);e&&(p.set(e),h=!0)}else $.update((e=>(e.push(t),e)))},unregisterRoute:function(t){$.update((e=>{const n=e.indexOf(t);return e.splice(n,1),e}))}}),t.$$set=t=>{"basepath"in t&&n(3,l=t.basepath),"url"in t&&n(4,u=t.url),"$$scope"in t&&n(8,a=t.$$scope)},t.$$.update=()=>{if(32&t.$$.dirty){const{path:t}=o;$.update((e=>(e.forEach((e=>e.path=Ft(t,e._path))),e)))}if(192&t.$$.dirty){const t=qt(c,r.pathname);p.set(t)}},[$,m,g,l,u,o,r,c,a,s]}class Xt extends St{constructor(t){super(),kt(this,t,Qt,Gt,a,{basepath:3,url:4})}}const Yt=t=>({params:4&t,location:16&t}),Zt=t=>({params:t[2],location:t[4]});function te(t){let e,n,o,r;const c=[ne,ee],s=[];function a(t,e){return null!==t[0]?0:1}return e=a(t),n=s[e]=c[e](t),{c(){n.c(),o=S()},l(t){n.l(t),o=S()},m(t,n){s[e].m(t,n),x(t,o,n),r=!0},p(t,r){let l=e;e=a(t),e===l?s[e].p(t,r):(dt(),ht(s[l],1,1,(()=>{s[l]=null})),$t(),n=s[e],n?n.p(t,r):(n=s[e]=c[e](t),n.c()),pt(n,1),n.m(o.parentNode,o))},i(t){r||(pt(n),r=!0)},o(t){ht(n),r=!1},d(t){s[e].d(t),t&&w(o)}}}function ee(t){let e;const n=t[10].default,o=u(n,t,t[9],Zt);return{c(){o&&o.c()},l(t){o&&o.l(t)},m(t,n){o&&o.m(t,n),e=!0},p(t,e){o&&o.p&&532&e&&d(o,n,t,t[9],e,Yt,Zt)},i(t){e||(pt(o,t),e=!0)},o(t){ht(o,t),e=!1},d(t){o&&o.d(t)}}}function ne(t){let e,o,r;const c=[{location:t[4]},t[2],t[3]];var s=t[0];function a(t){let e={};for(let t=0;t<c.length;t+=1)e=n(e,c[t]);return{props:e}}return s&&(e=new s(a())),{c(){e&&bt(e.$$.fragment),o=S()},l(t){e&&xt(e.$$.fragment,t),o=S()},m(t,n){e&&wt(e,t,n),x(t,o,n),r=!0},p(t,n){const r=28&n?function(t,e){const n={},o={},r={$$scope:1};let c=t.length;for(;c--;){const s=t[c],a=e[c];if(a){for(const t in s)t in a||(o[t]=1);for(const t in a)r[t]||(n[t]=a[t],r[t]=1);t[c]=a}else for(const t in s)r[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}(c,[16&n&&{location:t[4]},4&n&&vt(t[2]),8&n&&vt(t[3])]):{};if(s!==(s=t[0])){if(e){dt();const t=e;ht(t.$$.fragment,1,0,(()=>{_t(t,1)})),$t()}s?(e=new s(a()),bt(e.$$.fragment),pt(e.$$.fragment,1),wt(e,o.parentNode,o)):e=null}else s&&e.$set(r)},i(t){r||(e&&pt(e.$$.fragment,t),r=!0)},o(t){e&&ht(e.$$.fragment,t),r=!1},d(t){t&&w(o),e&&_t(e,t)}}}function oe(t){let e,n,o=null!==t[1]&&t[1].route===t[7]&&te(t);return{c(){o&&o.c(),e=S()},l(t){o&&o.l(t),e=S()},m(t,r){o&&o.m(t,r),x(t,e,r),n=!0},p(t,[n]){null!==t[1]&&t[1].route===t[7]?o?(o.p(t,n),2&n&&pt(o,1)):(o=te(t),o.c(),pt(o,1),o.m(e.parentNode,e)):o&&(dt(),ht(o,1,1,(()=>{o=null})),$t())},i(t){n||(pt(o),n=!0)},o(t){ht(o),n=!1},d(t){o&&o.d(t),t&&w(e)}}}function re(t,e,o){let r,c,{$$slots:s={},$$scope:a}=e,{path:l=""}=e,{component:u=null}=e;const{registerRoute:f,unregisterRoute:d,activeRoute:p}=F(Pt);i(t,p,(t=>o(1,r=t)));const h=F(Lt);i(t,h,(t=>o(4,c=t)));const m={path:l,default:""===l};let g={},v={};return f(m),"undefined"!=typeof window&&U((()=>{d(m)})),t.$$set=t=>{o(13,e=n(n({},e),$(t))),"path"in t&&o(8,l=t.path),"component"in t&&o(0,u=t.component),"$$scope"in t&&o(9,a=t.$$scope)},t.$$.update=()=>{2&t.$$.dirty&&r&&r.route===m&&o(2,g=r.params);{const{path:t,component:n,...r}=e;o(3,v=r)}},e=$(e),[u,r,g,v,c,p,h,m,l,a,s]}class ce extends St{constructor(t){super(),kt(this,t,re,oe,a,{path:8,component:0})}}function se(t){function e(t){const e=t.currentTarget;""===e.target&&function(t){const e=location.host;return t.host==e||0===t.href.indexOf(`https://${e}`)||0===t.href.indexOf(`http://${e}`)}(e)&&function(t){return!t.defaultPrevented&&0===t.button&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)&&(t.preventDefault(),Tt(e.pathname+e.search,{replace:e.hasAttribute("replace")}))}return t.addEventListener("click",e),{destroy(){t.removeEventListener("click",e)}}}function ae(t){const e=t-1;return e*e*e+1}function le(t,{delay:n=0,duration:o=400,easing:r=e}){const c=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:r,css:t=>"opacity: "+t*c}}function ie(t,{delay:e=0,duration:n=400,easing:o=ae,x:r=0,y:c=0,opacity:s=0}){const a=getComputedStyle(t),l=+a.opacity,i="none"===a.transform?"":a.transform,u=l*(1-s);return{delay:e,duration:n,easing:o,css:(t,e)=>`\n\t\t\ttransform: ${i} translate(${(1-t)*r}px, ${(1-t)*c}px);\n\t\t\topacity: ${l-u*e}`}}function ue(e){let n,o,r,a,l;const i=e[3].default,f=u(i,e,e[2],null);return{c(){n=_("a"),f&&f.c(),this.h()},l(t){n=O(t,"A",{href:!0,class:!0});var e=z(n);f&&f.l(e),e.forEach(w),this.h()},h(){D(n,"href",e[0]),D(n,"class","svelte-1hw2e0p")},m(c,i){var u;x(c,n,i),f&&f.m(n,null),r=!0,a||(l=[(u=o=se.call(null,n),u&&s(u.destroy)?u.destroy:t),I(n,"click",e[4])],a=!0)},p(t,[e]){f&&f.p&&4&e&&d(f,i,t,t[2],e,null,null),(!r||1&e)&&D(n,"href",t[0])},i(t){r||(pt(f,t),r=!0)},o(t){ht(f,t),r=!1},d(t){t&&w(n),f&&f.d(t),a=!1,c(l)}}}function fe(t,e,n){let{$$slots:o={},$$scope:r}=e,{href:c}=e;const s=K();return t.$$set=t=>{"href"in t&&n(0,c=t.href),"$$scope"in t&&n(2,r=t.$$scope)},[c,s,r,o,()=>s("click")]}class de extends St{constructor(t){super(),kt(this,t,fe,ue,a,{href:0})}}function $e(t){let e,n,o,r,s,a,l;const i=t[4].default,f=u(i,t,t[3],null);return{c(){e=_("div"),n=_("input"),o=k(),r=_("label"),f&&f.c(),this.h()},l(t){e=O(t,"DIV",{class:!0});var c=z(e);n=O(c,"INPUT",{type:!0,class:!0,placeholder:!0,maxlength:!0}),o=V(c),r=O(c,"LABEL",{for:!0,class:!0});var s=z(r);f&&f.l(s),s.forEach(w),c.forEach(w),this.h()},h(){D(n,"type","input"),D(n,"class","field svelte-pixolz"),D(n,"placeholder",""),D(n,"maxlength","4"),D(r,"for","name"),D(r,"class","label svelte-pixolz"),D(e,"class","group svelte-pixolz")},m(c,i){x(c,e,i),b(e,n),C(n,t[0]),b(e,o),b(e,r),f&&f.m(r,null),s=!0,a||(l=[I(n,"input",t[5]),I(n,"blur",t[6]),I(n,"keyup",N(t[2]))],a=!0)},p(t,[e]){1&e&&C(n,t[0]),f&&f.p&&8&e&&d(f,i,t,t[3],e,null,null)},i(t){s||(pt(f,t),s=!0)},o(t){ht(f,t),s=!1},d(t){t&&w(e),f&&f.d(t),a=!1,c(l)}}}function pe(t,e,n){let{$$slots:o={},$$scope:r}=e;const c=K();let s;return t.$$set=t=>{"$$scope"in t&&n(3,r=t.$$scope)},[s,c,function(t){"Enter"===t.code&&c("enter",{value:s})},r,o,function(){s=this.value,n(0,s)},()=>c("blur")]}class he extends St{constructor(t){super(),kt(this,t,pe,$e,a,{})}}function me(t){let e,n,o,r,c,s;return n=new de({props:{$$slots:{default:[ve]},$$scope:{ctx:t}}}),n.$on("click",t[3]),r=new de({props:{$$slots:{default:[ye]},$$scope:{ctx:t}}}),r.$on("click",Rt.create),{c(){e=_("div"),bt(n.$$.fragment),o=k(),bt(r.$$.fragment)},l(t){e=O(t,"DIV",{});var c=z(e);xt(n.$$.fragment,c),o=V(c),xt(r.$$.fragment,c),c.forEach(w)},m(t,c){x(t,e,c),wt(n,e,null),b(e,o),wt(r,e,null),s=!0},p(t,e){const o={};16&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o);const c={};16&e&&(c.$$scope={dirty:e,ctx:t}),r.$set(c)},i(t){s||(pt(n.$$.fragment,t),pt(r.$$.fragment,t),c||et((()=>{c=gt(e,le,{duration:800}),c.start()})),s=!0)},o(t){ht(n.$$.fragment,t),ht(r.$$.fragment,t),s=!1},d(t){t&&w(e),_t(n),_t(r)}}}function ge(t){let e,n,o,r;return n=new he({props:{$$slots:{default:[be]},$$scope:{ctx:t}}}),n.$on("enter",t[1]),n.$on("blur",t[2]),{c(){e=_("div"),bt(n.$$.fragment)},l(t){e=O(t,"DIV",{});var o=z(e);xt(n.$$.fragment,o),o.forEach(w)},m(t,o){x(t,e,o),wt(n,e,null),r=!0},p(t,e){const o={};16&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i(t){r||(pt(n.$$.fragment,t),o||et((()=>{o=gt(e,le,{duration:800}),o.start()})),r=!0)},o(t){ht(n.$$.fragment,t),r=!1},d(t){t&&w(e),_t(n)}}}function ve(t){let e;return{c(){e=E("Join room")},l(t){e=A(t,"Join room")},m(t,n){x(t,e,n)},d(t){t&&w(e)}}}function ye(t){let e;return{c(){e=E("Create room")},l(t){e=A(t,"Create room")},m(t,n){x(t,e,n)},d(t){t&&w(e)}}}function be(t){let e;return{c(){e=E("Enter the room ID")},l(t){e=A(t,"Enter the room ID")},m(t,n){x(t,e,n)},d(t){t&&w(e)}}}function xe(t){let e,n,o,r,c,s,a,l,i,u,f,d;const $=[ge,me],p=[];function h(t,e){return t[0]?0:1}return i=h(t),u=p[i]=$[i](t),{c(){e=_("main"),n=_("div"),o=_("h1"),r=E("Welcome to Mõla"),c=k(),s=_("h6"),a=E("What do you want to do ?"),l=k(),u.c(),this.h()},l(t){e=O(t,"MAIN",{class:!0});var i=z(e);n=O(i,"DIV",{center:!0,class:!0});var f=z(n);o=O(f,"H1",{class:!0});var d=z(o);r=A(d,"Welcome to Mõla"),d.forEach(w),c=V(f),s=O(f,"H6",{class:!0});var $=z(s);a=A($,"What do you want to do ?"),$.forEach(w),l=V(f),u.l(f),f.forEach(w),i.forEach(w),this.h()},h(){D(o,"class","svelte-124f6rz"),D(s,"class","svelte-124f6rz"),D(n,"center",""),D(n,"class","svelte-124f6rz"),D(e,"class","svelte-124f6rz")},m(t,u){x(t,e,u),b(e,n),b(n,o),b(o,r),b(n,c),b(n,s),b(s,a),b(n,l),p[i].m(n,null),d=!0},p(t,[e]){let o=i;i=h(t),i===o?p[i].p(t,e):(dt(),ht(p[o],1,1,(()=>{p[o]=null})),$t(),u=p[i],u?u.p(t,e):(u=p[i]=$[i](t),u.c()),pt(u,1),u.m(n,null))},i(t){d||(pt(u),f||et((()=>{f=gt(e,ie,{y:200,duration:1200}),f.start()})),d=!0)},o(t){ht(u),d=!1},d(t){t&&w(e),p[i].d()}}}function we(t,e,n){let o=!1;return[o,t=>Rt.join(parseInt(t.detail.value)),()=>n(0,o=!1),()=>n(0,o=!0)]}class _e extends St{constructor(t){super(),kt(this,t,we,xe,a,{})}}const Ee=t=>({}),ke=t=>({}),Se=t=>({}),Ie=t=>({}),Ne=t=>({}),De=t=>({});function ze(t){let e,n,o,r,c,s,a,l,i,f,$,p,h,m,g;const v=t[2].title,y=u(v,t,t[1],De),S=t[2].body,N=u(S,t,t[1],Ie),j=t[2].footer,C=u(j,t,t[1],ke);return{c(){e=_("div"),n=_("div"),o=_("h1"),y&&y.c(),r=k(),c=_("div"),s=_("span"),a=E("×"),l=k(),i=_("div"),N&&N.c(),f=k(),$=_("div"),C&&C.c(),this.h()},l(t){e=O(t,"DIV",{card:!0,class:!0});var u=z(e);n=O(u,"DIV",{header:!0});var d=z(n);o=O(d,"H1",{class:!0});var p=z(o);y&&y.l(p),p.forEach(w),r=V(d),c=O(d,"DIV",{class:!0});var h=z(c);s=O(h,"SPAN",{});var m=z(s);a=A(m,"×"),m.forEach(w),h.forEach(w),d.forEach(w),l=V(u),i=O(u,"DIV",{body:!0});var g=z(i);N&&N.l(g),g.forEach(w),f=V(u),$=O(u,"DIV",{footer:!0,class:!0});var v=z($);C&&C.l(v),v.forEach(w),u.forEach(w),this.h()},h(){D(o,"class","svelte-1iz9s42"),D(c,"class","close-button svelte-1iz9s42"),D(n,"header",""),D(i,"body",""),D($,"footer",""),D($,"class","svelte-1iz9s42"),D(e,"card",""),D(e,"class","svelte-1iz9s42")},m(u,d){x(u,e,d),b(e,n),b(n,o),y&&y.m(o,null),b(n,r),b(n,c),b(c,s),b(s,a),b(e,l),b(e,i),N&&N.m(i,null),b(e,f),b(e,$),C&&C.m($,null),h=!0,m||(g=I(c,"click",t[0]),m=!0)},p(t,[e]){y&&y.p&&2&e&&d(y,v,t,t[1],e,Ne,De),N&&N.p&&2&e&&d(N,S,t,t[1],e,Se,Ie),C&&C.p&&2&e&&d(C,j,t,t[1],e,Ee,ke)},i(t){h||(pt(y,t),pt(N,t),pt(C,t),p||et((()=>{p=gt(e,le,{}),p.start()})),h=!0)},o(t){ht(y,t),ht(N,t),ht(C,t),h=!1},d(t){t&&w(e),y&&y.d(t),N&&N.d(t),C&&C.d(t),m=!1,g()}}}function Oe(t,e,n){let{$$slots:o={},$$scope:r}=e;const c=K();return t.$$set=t=>{"$$scope"in t&&n(1,r=t.$$scope)},[function(){c("delete")},r,o]}class Ae extends St{constructor(t){super(),kt(this,t,Oe,ze,a,{})}}function Ve(t){let e,n,o,r,c;return{c(){e=_("div"),n=_("p"),o=E(t[0])},l(r){e=O(r,"DIV",{});var c=z(e);n=O(c,"P",{});var s=z(n);o=A(s,t[0]),s.forEach(w),c.forEach(w)},m(s,a){x(s,e,a),b(e,n),b(n,o),r||(c=I(e,"dblclick",t[6]),r=!0)},p(t,e){1&e&&j(o,t[0])},d(t){t&&w(e),r=!1,c()}}}function je(t){let e,n,o;return{c(){e=_("input"),this.h()},l(t){e=O(t,"INPUT",{type:!0,class:!0}),this.h()},h(){D(e,"type","text"),D(e,"class","svelte-1ahesbd")},m(r,c){x(r,e,c),C(e,t[1]),n||(o=[I(e,"input",t[4]),I(e,"blur",t[5]),I(e,"keyup",N(t[3]))],n=!0)},p(t,n){2&n&&e.value!==t[1]&&C(e,t[1])},d(t){t&&w(e),n=!1,c(o)}}}function Ce(e){let n;function o(t,e){return t[2]?je:Ve}let r=o(e),c=r(e);return{c(){c.c(),n=S()},l(t){c.l(t),n=S()},m(t,e){c.m(t,e),x(t,n,e)},p(t,[e]){r===(r=o(t))&&c?c.p(t,e):(c.d(1),c=r(t),c&&(c.c(),c.m(n.parentNode,n)))},i:t,o:t,d(t){c.d(t),t&&w(n)}}}function Re(t,e,n){let{value:o=""}=e,r=`${o}`,c=!1;const s=K();return t.$$set=t=>{"value"in t&&n(0,o=t.value)},t.$$.update=()=>{7&t.$$.dirty&&(c?n(0,o=r):n(1,r=o))},[o,r,c,function(t){"Enter"===t.code&&n(2,c=!1),s("keyup")},function(){r=this.value,n(1,r),n(2,c),n(0,o)},()=>n(2,c=!1),()=>n(2,c=!0)]}class Le extends St{constructor(t){super(),kt(this,t,Re,Ce,a,{value:0})}}function Pe(t,e,n){const o=t.slice();return o[7]=e[n],o[8]=e,o[9]=n,o}function Je(t){let e,n,o,r;function c(e){t[2].call(null,e,t[7])}let s={};return void 0!==t[7].title&&(s.value=t[7].title),n=new Le({props:s}),Q.push((()=>yt(n,"value",c))),n.$on("keyup",(function(){return t[3](t[7])})),{c(){e=_("div"),bt(n.$$.fragment),this.h()},l(t){e=O(t,"DIV",{slot:!0});var o=z(e);xt(n.$$.fragment,o),o.forEach(w),this.h()},h(){D(e,"slot","title")},m(t,o){x(t,e,o),wt(n,e,null),r=!0},p(e,r){t=e;const c={};!o&&1&r&&(o=!0,c.value=t[7].title,nt((()=>o=!1))),n.$set(c)},i(t){r||(pt(n.$$.fragment,t),r=!0)},o(t){ht(n.$$.fragment,t),r=!1},d(t){t&&w(e),_t(n)}}}function Me(t){let e,n,o,r;function c(e){t[4].call(null,e,t[7])}let s={};return void 0!==t[7].body&&(s.value=t[7].body),n=new Le({props:s}),Q.push((()=>yt(n,"value",c))),n.$on("keyup",(function(){return t[5](t[7])})),{c(){e=_("div"),bt(n.$$.fragment),this.h()},l(t){e=O(t,"DIV",{slot:!0});var o=z(e);xt(n.$$.fragment,o),o.forEach(w),this.h()},h(){D(e,"slot","body")},m(t,o){x(t,e,o),wt(n,e,null),r=!0},p(e,r){t=e;const c={};!o&&1&r&&(o=!0,c.value=t[7].body,nt((()=>o=!1))),n.$set(c)},i(t){r||(pt(n.$$.fragment,t),r=!0)},o(t){ht(n.$$.fragment,t),r=!1},d(t){t&&w(e),_t(n)}}}function Te(e){let n;return{c(){n=k()},l(t){n=V(t)},m(t,e){x(t,n,e)},p:t,i:t,o:t,d(t){t&&w(n)}}}function Be(t){let e,n,o,r;return n=new Ae({props:{$$slots:{default:[Te],body:[Me],title:[Je]},$$scope:{ctx:t}}}),n.$on("delete",(function(){return t[6](t[7])})),{c(){e=_("div"),bt(n.$$.fragment),o=k(),this.h()},l(t){e=O(t,"DIV",{class:!0});var r=z(e);xt(n.$$.fragment,r),o=V(r),r.forEach(w),this.h()},h(){D(e,"class","card-item svelte-1s0o7zb")},m(t,c){x(t,e,c),wt(n,e,null),b(e,o),r=!0},p(e,o){t=e;const r={};1025&o&&(r.$$scope={dirty:o,ctx:t}),n.$set(r)},i(t){r||(pt(n.$$.fragment,t),r=!0)},o(t){ht(n.$$.fragment,t),r=!1},d(t){t&&w(e),_t(n)}}}function We(t){let e;return{c(){e=E("Add card")},l(t){e=A(t,"Add card")},m(t,n){x(t,e,n)},d(t){t&&w(e)}}}function He(t){let e,n,o,r,c,s,a,l,i,u,f,d,$,p,h,m=t[0].id+"",g=t[0].cards,v=[];for(let e=0;e<g.length;e+=1)v[e]=Be(Pe(t,g,e));const y=t=>ht(v[t],1,1,(()=>{v[t]=null}));return u=new de({props:{$$slots:{default:[We]},$$scope:{ctx:t}}}),u.$on("click",Rt.cards.add),{c(){e=_("main"),n=_("h1"),o=E("Mõla n°"),r=E(m),c=k(),s=_("div");for(let t=0;t<v.length;t+=1)v[t].c();l=k(),i=_("div"),bt(u.$$.fragment),this.h()},l(t){e=O(t,"MAIN",{class:!0});var a=z(e);n=O(a,"H1",{class:!0});var f=z(n);o=A(f,"Mõla n°"),r=A(f,m),f.forEach(w),c=V(a),s=O(a,"DIV",{class:!0});var d=z(s);for(let t=0;t<v.length;t+=1)v[t].l(d);d.forEach(w),l=V(a),i=O(a,"DIV",{class:!0});var $=z(i);xt(u.$$.fragment,$),$.forEach(w),a.forEach(w),this.h()},h(){D(n,"class","title svelte-1s0o7zb"),D(s,"class","container svelte-1s0o7zb"),D(i,"class","button-container svelte-1s0o7zb"),D(e,"class","svelte-1s0o7zb")},m(a,f){x(a,e,f),b(e,n),b(n,o),b(n,r),b(e,c),b(e,s);for(let t=0;t<v.length;t+=1)v[t].m(s,null);b(e,l),b(e,i),wt(u,i,null),$=!0,p||(h=I(n,"click",t[1]),p=!0)},p(t,[e]){if((!$||1&e)&&m!==(m=t[0].id+"")&&j(r,m),1&e){let n;for(g=t[0].cards,n=0;n<g.length;n+=1){const o=Pe(t,g,n);v[n]?(v[n].p(o,e),pt(v[n],1)):(v[n]=Be(o),v[n].c(),pt(v[n],1),v[n].m(s,null))}for(dt(),n=g.length;n<v.length;n+=1)y(n);$t()}const n={};1024&e&&(n.$$scope={dirty:e,ctx:t}),u.$set(n)},i(t){if(!$){for(let t=0;t<g.length;t+=1)pt(v[t]);a||et((()=>{a=gt(s,le,{}),a.start()})),pt(u.$$.fragment,t),f||et((()=>{f=gt(i,le,{}),f.start()})),d||et((()=>{d=gt(e,le,{duration:1200}),d.start()})),$=!0}},o(t){v=v.filter(Boolean);for(let t=0;t<v.length;t+=1)ht(v[t]);ht(u.$$.fragment,t),$=!1},d(t){t&&w(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(v,t),_t(u),p=!1,h()}}}function Ue(t,e,n){let o;i(t,Rt,(t=>n(0,o=t))),H((()=>{!o&&o.id&&(console.warn("Room does not exist."),Rt.leave(),Tt("/",{replace:!0}))})),U((()=>{o&&o.id&&(console.log("Leaving room."),Rt.leave())}));return[o,()=>Tt("/",{replace:!0}),function(t,e){e.title=t,Rt.set(o)},t=>Rt.cards.update(t),function(t,e){e.body=t,Rt.set(o)},t=>Rt.cards.update(t),t=>Rt.cards.delete(t.id)]}class Ke extends St{constructor(t){super(),kt(this,t,Ue,He,a,{})}}function qe(n){let o,r,a,l,i,u;return{c(){o=_("div"),r=_("div"),a=E(n[0]),this.h()},l(t){o=O(t,"DIV",{class:!0});var e=z(o);r=O(e,"DIV",{class:!0});var c=z(r);a=A(c,n[0]),c.forEach(w),e.forEach(w),this.h()},h(){D(r,"class","message svelte-x70z4z"),D(o,"class","toast svelte-x70z4z")},m(t,e){x(t,o,e),b(o,r),b(r,a),u=!0},p(t,e){(!u||1&e)&&j(a,t[0])},i(t){u||(et((()=>{i&&i.end(1),l||(l=gt(o,ie,{y:-50,duration:800})),l.start()})),u=!0)},o(n){l&&l.invalidate(),i=function(n,o,r){let a,l=o(n,r),i=!0;const u=ft;function f(){const{delay:o=0,duration:r=300,easing:s=e,tick:f=t,css:d}=l||mt;d&&(a=M(n,1,0,r,o,s,d));const $=h()+o,p=$+r;et((()=>it(n,!1,"start"))),y((t=>{if(i){if(t>=p)return f(0,1),it(n,!1,"end"),--u.r||c(u.c),!1;if(t>=$){const e=s((t-$)/r);f(1-e,e)}}return i}))}return u.r+=1,s(l)?lt().then((()=>{l=l(),f()})):f(),{end(t){t&&l.tick&&l.tick(1,0),i&&(a&&T(n,a),i=!1)}}}(o,ie,{y:-50,duration:800}),u=!1},d(t){t&&w(o),t&&i&&i.end()}}}function Fe(t){let e,n,o=t[0]&&qe(t);return{c(){o&&o.c(),e=S()},l(t){o&&o.l(t),e=S()},m(t,r){o&&o.m(t,r),x(t,e,r),n=!0},p(t,[n]){t[0]?o?(o.p(t,n),1&n&&pt(o,1)):(o=qe(t),o.c(),pt(o,1),o.m(e.parentNode,e)):o&&(dt(),ht(o,1,1,(()=>{o=null})),$t())},i(t){n||(pt(o),n=!0)},o(t){ht(o),n=!1},d(t){o&&o.d(t),t&&w(e)}}}function Ge(t,e,n){let o,r;return i(t,Ot,(t=>n(0,o=t))),t.$$.update=()=>{3&t.$$.dirty&&(clearTimeout(r),n(1,r=setTimeout((()=>Ot.set(void 0)),4e3)))},[o,r]}class Qe extends St{constructor(t){super(),kt(this,t,Ge,Fe,a,{})}}function Xe(t){let e,n;return e=new _e({}),{c(){bt(e.$$.fragment)},l(t){xt(e.$$.fragment,t)},m(t,o){wt(e,t,o),n=!0},i(t){n||(pt(e.$$.fragment,t),n=!0)},o(t){ht(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function Ye(t){let e,n;return e=new Ke({}),{c(){bt(e.$$.fragment)},l(t){xt(e.$$.fragment,t)},m(t,o){wt(e,t,o),n=!0},i(t){n||(pt(e.$$.fragment,t),n=!0)},o(t){ht(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function Ze(t){let e,n,o,r;return e=new ce({props:{path:"/",$$slots:{default:[Xe]},$$scope:{ctx:t}}}),o=new ce({props:{$$slots:{default:[Ye]},$$scope:{ctx:t}}}),{c(){bt(e.$$.fragment),n=k(),bt(o.$$.fragment)},l(t){xt(e.$$.fragment,t),n=V(t),xt(o.$$.fragment,t)},m(t,c){wt(e,t,c),x(t,n,c),wt(o,t,c),r=!0},p(t,n){const r={};4&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const c={};4&n&&(c.$$scope={dirty:n,ctx:t}),o.$set(c)},i(t){r||(pt(e.$$.fragment,t),pt(o.$$.fragment,t),r=!0)},o(t){ht(e.$$.fragment,t),ht(o.$$.fragment,t),r=!1},d(t){_t(e,t),t&&w(n),_t(o,t)}}}function tn(t){let e,n,o,r;return e=new Qe({}),o=new Xt({props:{$$slots:{default:[Ze]},$$scope:{ctx:t}}}),{c(){bt(e.$$.fragment),n=k(),bt(o.$$.fragment)},l(t){xt(e.$$.fragment,t),n=V(t),xt(o.$$.fragment,t)},m(t,c){wt(e,t,c),x(t,n,c),wt(o,t,c),r=!0},p(t,[e]){const n={};4&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n)},i(t){r||(pt(e.$$.fragment,t),pt(o.$$.fragment,t),r=!0)},o(t){ht(e.$$.fragment,t),ht(o.$$.fragment,t),r=!1},d(t){_t(e,t),t&&w(n),_t(o,t)}}}function en(t,e,n){let o;i(t,Rt,(t=>n(0,o=t)));let r=parseInt(location.href.split("/").pop());return t.$$.update=()=>{1&t.$$.dirty&&(o&&o.id?Tt(o.id,{replace:!0}):Tt("/",{replace:!0}))},!Number.isNaN(r)&&Rt.join(r),[o]}return new class extends St{constructor(t){super(),kt(this,t,en,tn,a,{})}}({target:document.body,hydrate:!0})}();
//# sourceMappingURL=bundle.js.map
